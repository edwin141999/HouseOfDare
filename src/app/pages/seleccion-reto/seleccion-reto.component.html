<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="Pinegrow Web Editor - SAAS Bootstrap v5 Template">
        <meta name="author" content="">
        <title>Pinegrow | Bootstrap Blocks Template</title>
    </head>
    <body class="text-secondary" style="background-image: radial-gradient(circle at 68.3% 118.3%, #fd5541 0, #f23c3c 50%, #e71638 100%);">
        <div class="navigation-wrap shadow start-header start-style">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <nav class="justify-content-center navbar navbar-dark navbar-expand-md">
                            <a class="border border-2 border-light fw-bold lh-1 navbar-brand p-2 text-light" href="inicio">House Of Dare</a> 
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        <!-- <p class="text">{{selectReto$|async|json}}, {{selectRetoComunidad$|async|json}}</p> -->
        <div class="container" id="central" *ngIf="!bandera">
            <section class="pt-2 text-center">
                <div class="container">
                    <div class="pt-5 row">
                        <div class="col-lg-8 col-xl-6 mx-auto">
                            <div class="container pb-4 pt-4">
                                <div class="align-items-center row">
                                    <div class="col">
                                        <hr class="bg-white border-white mb-0 mt-0"/> 
                                    </div>
                                    <div class="col-auto">
                                        <h2 class="fw-bold h4 mb-0 text-light text-uppercase">categorias</h2> 
                                    </div>
                                    <div class="col">
                                        <hr class="bg-white border-white mb-0 mt-0"/> 
                                    </div>
                                </div>
                            </div>
                            <div class="card mb-5 pt-2">
                                <div class="bg-transparent card-body">
                                    <h5 class="card-title">Selecciona una categoria</h5>
                                    <div class="flex-column mb-4 mt-4 nav nav-fill nav-justified nav-pills" id="nav-tab" role="tablist">
                                        <a class="fw-bold nav-link" role="button" aria-controls="nav-profile" aria-selected="false" target="_pg_blank" data-bs-toggle="pill" (click)="obtenerCategoria('Familiar')" >Familiar</a>
                                        <a class="fw-bold nav-link" role="button" aria-controls="nav-profile" aria-selected="false" target="_pg_blank" data-bs-toggle="pill" (click)="obtenerCategoria('Niños')" >Niños</a>
                                        <a class="fw-bold nav-link" role="button" aria-controls="nav-profile" aria-selected="false" target="_pg_blank" data-bs-toggle="pill" (click)="obtenerCategoria('Fiesta')" >Fiesta</a>
                                        <a class="fw-bold nav-link" role="button" aria-controls="nav-profile" aria-selected="false" target="_pg_blank" data-bs-toggle="pill" (click)="obtenerCategoria('Ligero')" >Ligero</a>
                                        <a class="fw-bold nav-link" role="button" aria-controls="nav-profile" aria-selected="false" target="_pg_blank" data-bs-toggle="pill" (click)="obtenerCategoria('Extremo')" >Extremo</a>
                                    </div>
                                    <button class="btn btn-success pb-2 pe-3 pt-2 shadow-sm text-light" target="_pg_blank" type="button" id="confirmar" (click)="bandera=true" [disabled]="confirmarCategoria==false">Confirmar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <div class="container pb-5" *ngIf="bandera">
            <section class="bg-transparent pt-2 text-center">
                <div class="container">
                    <div class="fade modal" tabindex="-1" id="exampleModal">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">Tutorial</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <p>Retos: En esta sección podras ver los retos que la casa ha propuesto para ti.</p>
                                    <p>Comunidad: Aquí podrás ver los retos propuestos por ti y los otros usuarios de la comunidad mediante nuestra sección de <a href="comunidad">crear reto</a></p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="fade modal" tabindex="-1" id="participantesModal">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">Lista de participantes</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body card border-0 pt-2">
                                    <table class="mb-1 mt-1">
                                        <tr *ngFor="let nombre of listaNombre.controls;index as i">
                                        <td>{{ nombre.value }}</td>
                                        <td class="text-center w-25">
                                        <form (ngSubmit)="removeNombre(i)">
                                            <button
                                            type="submit"
                                            class="btn-close"
                                            aria-label="Close"
                                          ></button>
                                        </form>
                                        </td>
                                      </tr>
                                    </table>
                                </div>
                                <div class="modal-footer justify-content-center">
                                    <form (ngSubmit)="addNombre()" [formGroup]="registerNameForm">
                                        <div class="input-group mb-3">
                                          <input type="text" class="bg-light border-danger form-control" formControlName="name" placeholder="Nombre" aria-label="Recipient's username" aria-describedby="button-addon2" required="true" [class]="esValido('name')">
                                          <button
                                              class="border-danger btn btn-outline-info text-primary"
                                              type="submit"
                                              id="button-addon2" [disabled]="registerNameForm.invalid">
                                              Agregar
                                            </button>
                                        <div class="invalid-feedback">
                                            <span *ngIf="registerNameForm.get('name')?.errors?.required">Por favor introduzca un nombre
                                            </span>
                                            </div>
                                        </div>
                                      </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pt-2 row">
                        <div class="bg-transparent col-lg-8 col-xl-6 mx-auto">
                            <div class="container pb-4 pt-4">
                                <div class="align-items-center row">
                                    <div class="col">
                                        <hr class="bg-white border-white mb-0 mt-0"/> 
                                    </div>
                                    <div class="col-auto">
                                        <h2 class="fw-bold h4 mb-0 text-light text-uppercase">jugar</h2> 
                                    </div>
                                    <div class="col">
                                        <hr class="bg-white border-white mb-0 mt-0"/> 
                                    </div>
                                </div>
                            </div>
                            <div class="bg-transparent card mb-4">
                                <div class="bg-light card p-1">
                                    <div>
                                        <nav class="bg-transparent">    
                                            <div class="border-bottom justify-content-md-center nav nav-fill nav-justified nav-pills" id="nav-tab" role="tablist">
                                                <a class="active nav-link rounded-0 rounded-top" id="nav-home-tab" href="#nav-home" (click)="tipo=false" role="button" aria-controls="nav-profile" aria-selected="false" target="_pg_blank" data-bs-toggle="pill">Retos</a>
                                                <a class="nav-link rounded-0 rounded-top" id="nav-comunidad-tab" href="#nav-comunidad" (click)="tipo=true" role="button" aria-controls="nav-profile" aria-selected="false" target="_pg_blank" data-bs-toggle="pill">Comunidad</a>
                                                <button type="button" class="btn btn-sm" data-bs-toggle="modal" data-bs-target="#exampleModal">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" class="bi bi-question text-primary" viewBox="0 0 16 16" preserveAspectRatio> 
                                                        <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                                                    </svg>
                                                </button>
                                            </div>
                                            <div class="bg-transparent mb-5 mt-4 tab-content" id="nav-tabContent">
                                                <div class="tab-pane fade show active" id="nav-home" role="tabpanel" *ngIf="!tipo" aria-labelledby="nav-home-tab">
                                                    <div class="bg-transparent container pb-4 pt-4">
                                                        <div class="align-items-center row">
                                                            <div class="col">
                                                                <hr class="border-secondary mb-0 mt-0"/> 
                                                            </div>
                                                            <div class="col-auto">
                                                                <h1 class="h6 text-uppercase">Tu reto es</h1> 
                                                            </div>
                                                            <div class="col">
                                                                <hr class="border-secondary mb-0 mt-0"/> 
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="bg-transparent card-body" *ngFor="let reto of selectReto$|async">
                                                        <blockquote class="blockquote mb-0">
                                                            <p class="fs-5">{{reto.descripcion}}</p>
                                                        </blockquote>
                                                    </div>
                                                    <div class="bg-transparent container pb-4 pt-4">
                                                        <div class="align-items-center row">
                                                            <div class="col">
                                                                <hr class="border-secondary mb-0 mt-0"/> 
                                                            </div>
                                                            <div class="col-auto">
                                                                <div class="bg-primary p-1" style="transform: rotate(45deg);"></div>                                                                 
                                                            </div>
                                                            <div class="col">
                                                                <hr class="border-secondary mb-0 mt-0"/> 
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <h5 *ngIf="!pasar" class="card-title fs-6">Retado: {{nombreRandom}}</h5>
                                                    <h5 *ngIf="pasar" class="card-title fs-6">YA NO HAY MAS PARTICIPANTES</h5>
                                                </div>
                                                <div class="tab-pane fade show active" id="nav-comunidad" role="tabpanel" *ngIf="tipo"  aria-labelledby="nav-comunidad-tab">
                                                    <div class="container pb-4 pt-4">
                                                        <div class="align-items-center row">
                                                            <div class="col">
                                                                <hr class="border-secondary mb-0 mt-0"/> 
                                                            </div>
                                                            <div class="col-auto">
                                                                <h1 class="h6 text-uppercase">Tu reto es</h1> 
                                                            </div>
                                                            <div class="col">
                                                                <hr class="border-secondary mb-0 mt-0"/> 
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="card-body" *ngFor="let reto of selectRetoComunidad$|async">
                                                        <blockquote class="blockquote mb-0">
                                                            <p class="fs-5">{{reto.descripcion}} </p>
                                                            <footer class="blockquote-footer">Hecho por: {{reto.retador}}</footer>
                                                        </blockquote>
                                                    </div>
                                                    <div class="container pb-4 pt-4">
                                                        <div class="align-items-center row">
                                                            <div class="col">
                                                                <hr class="border-secondary mb-0 mt-0"/> 
                                                            </div>
                                                            <div class="col-auto">
                                                                <div class="bg-primary p-1" style="transform: rotate(45deg);"></div>                                                                 
                                                            </div>
                                                            <div class="col">
                                                                <hr class="border-secondary mb-0 mt-0"/> 
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <h5 class="card-title fs-6">Retado: {{nombreRandom}}</h5>
                                                    <!-- <div class="dropdown">
                                                        <button class="btn btn-link dropdown-toggle fs-6 text-muted" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false" type="button">¡Ayudanos!</button>
                                                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                            <li>
                                                                <div class="bg-light text-center">
                                                                    <div class="card-body">
                                                                        <h5 class="card-title">¡Ayudanos a mejorar los retos!</h5>
                                                                        <p class="card-text fs-5">¿Consideras que este reto es adecuado para esta categoría?</p>
                                                                        <a class="btn btn-danger me-1 ms-1 pb-2 pe-3 ps-3 pt-2" target="_pg_blank"  ><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" class="bi bi-hand-thumbs-down" viewBox="0 0 16 16" preserveAspectRatio> 
                                                                                <path d="M8.864 15.674c-.956.24-1.843-.484-1.908-1.42-.072-1.05-.23-2.015-.428-2.59-.125-.36-.479-1.012-1.04-1.638-.557-.624-1.282-1.179-2.131-1.41C2.685 8.432 2 7.85 2 7V3c0-.845.682-1.464 1.448-1.546 1.07-.113 1.564-.415 2.068-.723l.048-.029c.272-.166.578-.349.97-.484C6.931.08 7.395 0 8 0h3.5c.937 0 1.599.478 1.934 1.064.164.287.254.607.254.913 0 .152-.023.312-.077.464.201.262.38.577.488.9.11.33.172.762.004 1.15.069.13.12.268.159.403.077.27.113.567.113.856 0 .289-.036.586-.113.856-.035.12-.08.244-.138.363.394.571.418 1.2.234 1.733-.206.592-.682 1.1-1.2 1.272-.847.283-1.803.276-2.516.211a9.877 9.877 0 0 1-.443-.05 9.364 9.364 0 0 1-.062 4.51c-.138.508-.55.848-1.012.964l-.261.065zM11.5 1H8c-.51 0-.863.068-1.14.163-.281.097-.506.229-.776.393l-.04.025c-.555.338-1.198.73-2.49.868-.333.035-.554.29-.554.55V7c0 .255.226.543.62.65 1.095.3 1.977.997 2.614 1.709.635.71 1.064 1.475 1.238 1.977.243.7.407 1.768.482 2.85.025.362.36.595.667.518l.262-.065c.16-.04.258-.144.288-.255a8.34 8.34 0 0 0-.145-4.726.5.5 0 0 1 .595-.643h.003l.014.004.058.013a8.912 8.912 0 0 0 1.036.157c.663.06 1.457.054 2.11-.163.175-.059.45-.301.57-.651.107-.308.087-.67-.266-1.021L12.793 7l.353-.354c.043-.042.105-.14.154-.315.048-.167.075-.37.075-.581 0-.211-.027-.414-.075-.581-.05-.174-.111-.273-.154-.315l-.353-.354.353-.354c.047-.047.109-.176.005-.488a2.224 2.224 0 0 0-.505-.804l-.353-.354.353-.354c.006-.005.041-.05.041-.17a.866.866 0 0 0-.121-.415C12.4 1.272 12.063 1 11.5 1z"/>
                                                                            </svg> NO</a>
                                                                        <a class="btn btn-success me-1 ms-1 pb-2 pe-3 ps-3 pt-2 text-light" target="_pg_blank"><svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" class="bi bi-hand-thumbs-up" viewBox="0 0 16 16" preserveAspectRatio> 
                                                                                <path d="M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"/>
                                                                            </svg> SI</a>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </div> -->
                                                </div>
                                            </div>
                                            <div class="justify-content-md-center nav nav-fill nav-justified shadow-sm" id="nav-tab" role="tablist">
                                                <a class="align-items-center border-end border-top nav-link" href="#" role="tab" data-bs-target="#participantesModal" data-bs-toggle="modal">Participantes</a>
                                                <a class="border-top nav-link" type="button" (click)="cambiarVista()" role="tab" target="_pg_blank" id="cambiarDificultad" >Categoria</a>
                                            </div>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf=!pasar>
                                <button (click)="retoCumplido(false)" class="btn btn-danger me-1 ms-1 pb-2 pe-3 ps-3 pt-2">No hecho</button>
                                <button (click)="retoCumplido(true)" class="btn btn-success me-1 ms-1 pb-2 pe-3 ps-3 pt-2 text-light">Hecho</button>
                            </div>
                            <div *ngIf="pasar">
                                <a (click)="chargeGame()" class="btn btn-danger me-1 ms-1 pb-2 pe-3 ps-3 pt-2">Reiniciar juego</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </body>
</html>